<!DOCTYPE html>
<html>
<head>
    <title>Ping Test</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: Arial, text-align: center; padding: 20px; }
        button { background: #0088cc; color: white; border: none; padding: 10px 15px; border-radius: 5px; }
    </style>
</head>
<body>
    <h2>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∏–Ω–≥–∞</h2>
    <button onclick="measurePing()">‚ñ∂ –ò–∑–º–µ—Ä–∏—Ç—å</button>
    <p id="status">–ñ–¥—ë–º –¥–µ–π—Å—Ç–≤–∏—è...</p>

    <script>
        const tg = window.Telegram.WebApp;
        
        function measurePing() {
            const statusEl = document.getElementById("status");
            statusEl.textContent = "‚è≥ –ò–∑–º–µ—Ä—è–µ–º...";
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –ø–∏–Ω–≥–∞ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ –∑–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å fetch-–∑–∞–ø—Ä–æ—Å)
            setTimeout(() => {
                const ping = Math.round(Math.random() * 100);
                statusEl.textContent = `üèì –ü–∏–Ω–≥: ${ping} –º—Å`;
                
                // –í–∞–∂–Ω–æ: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º Mini App
                tg.sendData(JSON.stringify({ ping: ping }));
                tg.close();
            }, 1000);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Mini App
        tg.expand();
        tg.ready();
    </script>
</body>
</html>
